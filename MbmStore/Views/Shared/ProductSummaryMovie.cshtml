@using MbmStore.Models
@model MbmStore.ViewModels.ProductsListViewModel

@if (Model.Products.OfType<Movie>().Count() > 0)
{
    foreach (Movie movie in Model.Products.OfType<Movie>().ToList())
    {
        <tr>
            <td style="width: 200px;">
                <img class="card-img-top" src="~/Content/Images/@movie.ImageUrl" style="width: 100%;" />
            </td>
            <td class="text-left">
                <h4>@movie.Title</h4>
                Director: @movie.Director<br />
            </td>
            <td class="text-center align-middle">
                Price: @String.Format("{0:0.00}", movie.Price)<br /><br />
                @using (Html.BeginForm("AddToCart", "Cart", FormMethod.Post))
                {
                    @Html.Hidden("ProductId", movie.ProductId)
                    @Html.Hidden("returnUrl", Request.Url.PathAndQuery)
                    @Html.DropDownList("Quantity", null, null, new { @class = "custom-select" })<br /><br />
                    <input type="submit" class="btn btn-success" value="Add to cart" />
                }
            </td>
            <td class="text-center align-middle">
                <a href="#" class="btn btn-primary">View movie details</a>
            </td>
        </tr>
    }
}